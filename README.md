# 商城后台管理项目(nginx+vue+node)

### 线上预览

- 预览网址：http://www.hudingjie.com (PC端)



### 技术选型

- [vue.js](<https://cn.vuejs.org/>)  ===>MVVM框架
- [Vue Router](<https://cn.vuejs.org/>) ===>实现前端路由
- [Vue CLI](<https://cn.vuejs.org/>)  ===>vue脚手架4.x
- [axios](<https://github.com/axios/axios>) ===>ajax请求工具
- [ElementUI](<https://element.eleme.io/>) ===>Vue前端UI框架    
- [Echarts](<https://echarts.baidu.com/>) ===>数据可视化  

   

### 项目简介

#### 登录模块

- 要点：未成功登录的情况下，不能通过直接改变url而访问到任何页面，此处通过挂载路由导航守卫实现拦截与放行，只有成功登录获取token后，才会放心，否则全部拦截，并转到登录页面

#### 用户管理

- 用户crud
- 要点：用户分配角色，业务逻辑参照权限管理中

#### 权限管理

- 权限管理业务逻辑：本系统权限模块分为用户、角色、权限，所有权限挂在角色上，然后通过把对应角色分配给相应用户，使得用户获取相应的权限，在其位谋其政。
- 要点：给用户分配权限
- **`难点`**：
  - 渲染角色列表，渲染列表展开栏的全部权限选项卡(list型数据，作用域插槽，深层循环嵌套)
  - 给角色分配权限(tree型数据，作用域插槽，用到递归)
#### 商品管理

- 要点：商品分类crud
- **`难点`**：
  - 渲染商品分类列表，需要用到树形表格（安装vue-table-with-tree-grid组件），层级展开，自定义渲染列（没用过所以写在难点了）。
  - 添加商品分类：级联选择器的使用
  - 过程分析：添加分类需要传入(分类名称，分类父级 ID，分类层级)，分类名称直接在表单input中双向绑定，而分类父级 ID，分类层级需要在级联选择器中获取，级联选择器中`v-model`绑定一个数组，其中就是被选中项的cat_id值(真神奇)，由此数组获的父级分类ID，分类层级，再进行发送请求前其余准备及数据处理即可
- **记录一次问题排查**：在开发过程中，页面数据突然消失，请求数据失败，通过查看浏览器network，发现请求服务器500，然后登录云服务器查看了nginx日志，没有发现问题，`forever list`查看当前node后台进程，发现为stop状态，定位到问题所在，然后切换为普通ndoe命令启动，命令行抛出错误提示，原来是端口被占用了，换了一个新端口，服务重启启动，解决。查了一个端口被另一个node服务占用



#### 订单管理
 - 要点：
   - 修改地址，级联选择器，三级联动获取省市区/县
   - 时间线查看物流


#### 数据统计

- Echarts插件，数据可视化



### 项目启动步骤

- 1、安装依赖

```
npm install
```

- 2、运行启动

```
npm run serve
```
